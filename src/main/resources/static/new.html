<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ë²¤íŠ¸ ì¡°íšŒ - ì¶•ì˜ê¸ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        /* ì™¼ìª½ ì‚¬ì´ë“œë°” */
        .sidebar {
            width: 16.66%;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px 20px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .sidebar-btn {
            padding: 18px 20px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .sidebar-btn:hover {
            background: #667eea;
            color: white;
            transform: translateX(5px);
        }

        .sidebar-btn.active {
            background: #667eea;
            color: white;
        }

        /* ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* í—¤ë” */
        .header {
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .logout-btn {
            padding: 10px 24px;
            border: 2px solid white;
            background: transparent;
            color: white;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: white;
            color: #667eea;
        }

        /* ì»¨í…ì¸  ì˜ì—­ */
        .content {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
        }

        .content-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 1200px;
            margin: 0 auto;
        }

        .page-header {
            margin-bottom: 30px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 20px;
        }

        .page-title {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
        }

        .page-description {
            font-size: 15px;
            color: #666;
        }

        /* ì´ë²¤íŠ¸ ë¦¬ìŠ¤íŠ¸ */
        .event-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .event-card {
            background: #f9f9f9;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: grid;
            grid-template-columns: 2fr 1.5fr 1.5fr 2fr 1.5fr 2fr;
            gap: 15px;
            align-items: center;
        }

        .event-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }

        .event-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .info-label {
            font-size: 12px;
            color: #999;
            font-weight: 600;
        }

        .info-value {
            font-size: 15px;
            color: #333;
            font-weight: 600;
        }

        .event-amount {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .amount-value {
            font-size: 16px;
            font-weight: 700;
        }

        .amount-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .income {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .expense {
            background: #ffebee;
            color: #c62828;
        }

        /* í˜ì´ì§• */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #f0f0f0;
        }

        .page-btn {
            padding: 8px 16px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .page-btn:hover:not(:disabled) {
            border-color: #667eea;
            color: #667eea;
        }

        .page-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .page-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .page-info {
            font-size: 14px;
            color: #666;
            margin: 0 10px;
        }

        /* ë¹ˆ ìƒíƒœ */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .empty-state-text {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .empty-state-subtext {
            font-size: 14px;
        }
    </style>
</head>
<body>
<div class="container">
    <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” -->
    <div class="sidebar">
        <button class="sidebar-btn" onclick="goToRegister()">ì´ë²¤íŠ¸ ë“±ë¡</button>
        <button class="sidebar-btn active">ì´ë²¤íŠ¸ ì¡°íšŒ</button>
        <button class="sidebar-btn" onclick="goToAnalytics()">ë¶„ì„ ë° í†µê³„</button>
    </div>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="main-content">
        <!-- í—¤ë” -->
        <div class="header">
            <div class="logo">ì¶•ì˜ê¸ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ</div>
            <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
        </div>

        <!-- ì»¨í…ì¸  -->
        <div class="content">
            <div class="content-card">
                <div class="page-header">
                    <div class="page-title">ë‚´ ê²½ì¡°ì‚¬ ì¼ì •</div>
                    <div class="page-description">ë“±ë¡ëœ ê²½ì¡°ì‚¬ ì´ë²¤íŠ¸ ëª©ë¡ì„ í™•ì¸í•˜ì„¸ìš”</div>
                </div>

                <div id="eventListContainer">
                    <!-- ì´ë²¤íŠ¸ ë¦¬ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>

                <div class="pagination" id="paginationContainer">
                    <!-- í˜ì´ì§• ë²„íŠ¼ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // ìƒ˜í”Œ ë°ì´í„° (ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œì—ì„œ ê°€ì ¸ì˜´)
    const mockEvents = [
        { id: 1, friendName: 'ê¹€ì² ìˆ˜', relationship: 'ì¹œêµ¬', eventType: 'ê²°í˜¼', eventDate: '2024-12-20', eventTime: '14:00', amount: 100000, transactionType: 'expense', memo: 'ëŒ€í•™ ë™ê¸°' },
        { id: 2, friendName: 'ì´ì˜í¬', relationship: 'ì§ì¥ë™ë£Œ', eventType: 'ì¥ë¡€', eventDate: '2024-12-15', eventTime: '10:00', amount: 50000, transactionType: 'expense', memo: '' },
        { id: 3, friendName: 'ë°•ë¯¼ìˆ˜', relationship: 'ì¹œêµ¬', eventType: 'ê²°í˜¼', eventDate: '2024-12-10', eventTime: '13:00', amount: 150000, transactionType: 'income', memo: 'ë‚´ ê²°í˜¼ì‹ì— ì°¸ì„' },
        { id: 4, friendName: 'ìµœì§€ì€', relationship: 'ê°€ì¡±', eventType: 'ëŒì”ì¹˜', eventDate: '2024-12-05', eventTime: '12:00', amount: 200000, transactionType: 'expense', memo: 'ì¡°ì¹´' },
        { id: 5, friendName: 'ì •ìš°ì„±', relationship: 'ì„ í›„ë°°', eventType: 'ê°œì—…', eventDate: '2024-12-01', eventTime: '11:00', amount: 50000, transactionType: 'expense', memo: 'ëŒ€í•™ ì„ ë°°' },
        { id: 6, friendName: 'ê°•ë™ì›', relationship: 'ì¹œêµ¬', eventType: 'ê²°í˜¼', eventDate: '2024-11-28', eventTime: '15:00', amount: 100000, transactionType: 'expense', memo: '' },
        { id: 7, friendName: 'ì†¡í˜œêµ', relationship: 'ì¹œì²™', eventType: 'íšŒê°‘', eventDate: '2024-11-25', eventTime: '18:00', amount: 300000, transactionType: 'expense', memo: 'ì‚¼ì´Œ' },
        { id: 8, friendName: 'ìœ ì¬ì„', relationship: 'ì§ì¥ë™ë£Œ', eventType: 'ê²°í˜¼', eventDate: '2024-11-20', eventTime: '14:00', amount: 50000, transactionType: 'expense', memo: '' },
        { id: 9, friendName: 'ì´íš¨ë¦¬', relationship: 'ì¹œêµ¬', eventType: 'ê²°í˜¼', eventDate: '2024-11-15', eventTime: '13:30', amount: 100000, transactionType: 'expense', memo: 'ê³ ë“±í•™êµ ì¹œêµ¬' },
        { id: 10, friendName: 'ë°•ë³´ê²€', relationship: 'ì„ í›„ë°°', eventType: 'ì¥ë¡€', eventDate: '2024-11-10', eventTime: '09:00', amount: 50000, transactionType: 'expense', memo: '' },
    ];

    let currentPage = 1;
    const itemsPerPage = 5;

    // ë‚ ì§œìˆœ ì •ë ¬ (ìµœì‹ ìˆœ)
    mockEvents.sort((a, b) => new Date(b.eventDate) - new Date(a.eventDate));

    // í˜ì´ì§€ ì´ˆê¸°í™”
    function initPage() {
        renderEventList();
        renderPagination();
    }

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
    function renderEventList() {
        const container = document.getElementById('eventListContainer');
        const startIndex = (currentPage - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;
        const pageEvents = mockEvents.slice(startIndex, endIndex);

        if (pageEvents.length === 0) {
            container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“…</div>
                        <div class="empty-state-text">ë“±ë¡ëœ ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤</div>
                        <div class="empty-state-subtext">ìƒˆë¡œìš´ ê²½ì¡°ì‚¬ ì¼ì •ì„ ë“±ë¡í•´ë³´ì„¸ìš”</div>
                    </div>
                `;
            return;
        }

        container.innerHTML = `
                <div class="event-list">
                    ${pageEvents.map(event => `
                        <div class="event-card" onclick="goToDetail(${event.id})">
                            <div class="event-info">
                                <div class="info-label">ì§€ì¸ ì´ë¦„</div>
                                <div class="info-value">${event.friendName}</div>
                            </div>
                            <div class="event-info">
                                <div class="info-label">ê´€ê³„</div>
                                <div class="info-value">${event.relationship}</div>
                            </div>
                            <div class="event-info">
                                <div class="info-label">ê²½ì¡°ì‚¬ ì¢…ë¥˜</div>
                                <div class="info-value">${event.eventType}</div>
                            </div>
                            <div class="event-info">
                                <div class="info-label">í–‰ì‚¬ ë‚ ì§œ ë° ì‹œê°„</div>
                                <div class="info-value">${formatDateTime(event.eventDate, event.eventTime)}</div>
                            </div>
                            <div class="event-info">
                                <div class="info-label">ê¸ˆì•¡</div>
                                <div class="event-amount">
                                    <span class="amount-value">${formatAmount(event.amount)}ì›</span>
                                    <span class="amount-badge ${event.transactionType}">
                                        ${event.transactionType === 'income' ? 'ì…ê¸ˆ' : 'ì¶œê¸ˆ'}
                                    </span>
                                </div>
                            </div>
                            <div class="event-info">
                                <div class="info-label">ë¹„ê³ </div>
                                <div class="info-value">${event.memo || '-'}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
    }

    // í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§
    function renderPagination() {
        const container = document.getElementById('paginationContainer');
        const totalPages = Math.ceil(mockEvents.length / itemsPerPage);

        if (totalPages <= 1) {
            container.innerHTML = '';
            return;
        }

        let paginationHTML = `
                <button class="page-btn" onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
                    ì´ì „
                </button>
            `;

        for (let i = 1; i <= totalPages; i++) {
            paginationHTML += `
                    <button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">
                        ${i}
                    </button>
                `;
        }

        paginationHTML += `
                <button class="page-btn" onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
                    ë‹¤ìŒ
                </button>
            `;

        container.innerHTML = paginationHTML;
    }

    // í˜ì´ì§€ ë³€ê²½
    function changePage(page) {
        const totalPages = Math.ceil(mockEvents.length / itemsPerPage);
        if (page < 1 || page > totalPages) return;

        currentPage = page;
        renderEventList();
        renderPagination();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ë‚ ì§œ ì‹œê°„ í¬ë§·íŒ…
    function formatDateTime(date, time) {
        const d = new Date(date);
        const year = d.getFullYear();
        const month = String(d.getMonth() + 1).padStart(2, '0');
        const day = String(d.getDate()).padStart(2, '0');
        return time ? `${year}.${month}.${day} ${time}` : `${year}.${month}.${day}`;
    }

    // ê¸ˆì•¡ í¬ë§·íŒ…
    function formatAmount(amount) {
        return amount.toLocaleString();
    }

    // ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
    function goToDetail(eventId) {
        // ì‹¤ì œë¡œëŠ” ì´ë²¤íŠ¸ IDì™€ í•¨ê»˜ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
        window.location.href = `event-detail.html?id=${eventId}`;
    }

    // í˜ì´ì§€ ì´ë™
    function goToRegister() {
        window.location.href = 'event-register.html';
    }

    function goToAnalytics() {
        window.location.href = 'analytics.html';
    }

    function logout() {
        if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
            alert('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.');
            window.location.href = 'login.html';
        }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    initPage();
</script>
</body>
</html>